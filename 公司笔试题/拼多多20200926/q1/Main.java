package 拼多多20200926.q1;

import java.util.Arrays;
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        int[][] nums = {
                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0},

                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
                        0, 0, 0, 1, 1, 1, 0, 0, 0, 0,
                        0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
                        0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
                        0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
                        0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0},

                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 1, 1, 1, 1, 1, 1, 0, 0,
                        0, 0, 0, 0, 0, 1, 1, 0, 0, 0,
                        0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
                        0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
                        0, 0, 0, 1, 1, 0, 0, 0, 0, 0,
                        0, 0, 1, 1, 1, 1, 1, 1, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0},

                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 0, 0, 0, 0, 1, 1, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 1, 1, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0},

                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
                        0, 0, 0, 1, 1, 1, 0, 0, 0, 0,
                        0, 0, 1, 1, 1, 1, 0, 0, 0, 0,
                        0, 1, 1, 0, 1, 1, 0, 0, 0, 0,
                        0, 1, 1, 1, 1, 1, 1, 1, 0, 0,
                        0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
                        0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0},

                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 1, 1, 0, 0, 0, 0, 0, 0,
                        0, 0, 1, 1, 1, 1, 1, 1, 0, 0,
                        0, 0, 1, 1, 0, 0, 0, 0, 0, 0,
                        0, 0, 1, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 1, 1, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0},

                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 1, 1, 0, 0, 0, 0, 0, 0,
                        0, 0, 1, 1, 0, 0, 0, 0, 0, 0,
                        0, 0, 1, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0},

                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 1, 1, 1, 1, 1, 1, 0, 0,
                        0, 0, 1, 1, 1, 1, 1, 1, 0, 0,
                        0, 0, 0, 0, 0, 0, 1, 1, 0, 0,
                        0, 0, 0, 0, 0, 1, 1, 0, 0, 0,
                        0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
                        0, 0, 0, 1, 1, 0, 0, 0, 0, 0,
                        0, 0, 1, 1, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0},

                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0},

                {0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 1, 0, 0,
                        0, 0, 0, 0, 0, 0, 1, 1, 0, 0,
                        0, 0, 0, 0, 0, 0, 1, 1, 0, 0,
                        0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                        0, 0, 0, 0, 0, 0, 0, 0, 0, 0}

        };

        int T = sc.nextInt();
        for (int i = 0; i < T; i++) {
            int N = sc.nextInt();
            int[] temp = new int[100];
            int k = N / 10;
            int j = 0;
            for (int x = 0; x < N; x++) {
                for (int y = 0; y < N; y++) {
                    int num = sc.nextInt();
                    if(x % k ==0 && y % k ==0){
                        temp[j++] = num;
                    }
                }
            }

            //System.out.println(Arrays.toString(temp));
            //System.out.println(Arrays.toString(sap));

            int ans = 0;
            for (int z = 0; z < nums.length; z++) {
                if(Arrays.equals(temp, nums[z])){
                    ans = z;
                }

            }
            System.out.println(ans);

        }
    }
}

//
//
//{0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
//
//{0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
//0, 0, 0, 1, 1, 1, 0, 0, 0, 0,
//0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
//0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
//0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
//0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
//
//{0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 1, 1, 1, 1, 1, 1, 0, 0,
//0, 0, 0, 0, 0, 1, 1, 0, 0, 0,
//0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
//0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
//0, 0, 0, 1, 1, 0, 0, 0, 0, 0,
//0, 0, 1, 1, 1, 1, 1, 1, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
//
//{0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 0, 0, 0, 0, 1, 1, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 1, 1, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
//
//{0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
//0, 0, 0, 1, 1, 1, 0, 0, 0, 0,
//0, 0, 1, 1, 1, 1, 0, 0, 0, 0,
//0, 1, 1, 0, 1, 1, 0, 0, 0, 0,
//0, 1, 1, 1, 1, 1, 1, 1, 0, 0,
//0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
//0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
//
//{0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 1, 1, 0, 0, 0, 0, 0, 0,
//0, 0, 1, 1, 1, 1, 1, 1, 0, 0,
//0, 0, 1, 1, 0, 0, 0, 0, 0, 0,
//0, 0, 1, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 1, 1, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
//
//{0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 1, 1, 0, 0, 0, 0, 0, 0,
//0, 0, 1, 1, 0, 0, 0, 0, 0, 0,
//0, 0, 1, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
//
//{0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 1, 1, 1, 1, 1, 1, 0, 0,
//0, 0, 1, 1, 1, 1, 1, 1, 0, 0,
//0, 0, 0, 0, 0, 0, 1, 1, 0, 0,
//0, 0, 0, 0, 0, 1, 1, 0, 0, 0,
//0, 0, 0, 0, 1, 1, 0, 0, 0, 0,
//0, 0, 0, 1, 1, 0, 0, 0, 0, 0,
//0, 0, 1, 1, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
//
//{0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
//
//{0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 1, 1, 0, 0, 1, 1, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 1, 0, 0,
//0, 0, 0, 0, 0, 0, 1, 1, 0, 0,
//0, 0, 0, 0, 0, 0, 1, 1, 0, 0,
//0, 0, 0, 1, 1, 1, 1, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
//0, 0, 0, 0, 0, 0, 0, 0, 0, 0}